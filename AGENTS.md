AGENTS.md

Build/lint/test
- Build: platformio run -e esp32-c6-devkitc-1
- Upload: platformio run -e esp32-c6-devkitc-1 -t upload
- Monitor: platformio device monitor (set speed via platformio.ini if needed)
- Clean: platformio run -e esp32-c6-devkitc-1 -t clean
- Tests (all): platformio test -e esp32-c6-devkitc-1
- Tests (single): platformio test -e esp32-c6-devkitc-1 -f <test_name>

Code style
- Language: C++ (ESP-IDF). Follow existing includes and namespaces in src/main.cpp.
- Imports: use angle brackets for SDK/libs (freertos/â€¦, esp_log.h) and quotes for local headers. Keep using rmt_led_strip.hpp from libdeps.
- Formatting: 4-space indentation, braces on next line consistent with current file, limit line length ~100.
- Types: prefer fixed-width types from <stdint.h>; avoid raw literals when possible; use const where applicable.
- Naming: UPPER_SNAKE_CASE for macros/TAGs, lower_snake_case for variables/functions as in ws2812 led_strip_instance, PascalCase only for classes/types from libraries.
- Error handling: check return values (e.g., initialize()) and log via ESP_LOGx with TAG; early-return on failures; avoid printf for errors, prefer ESP_LOGE.
- Concurrency: FreeRTOS APIs only from appropriate context; use vTaskDelay(pdMS_TO_TICKS(ms)); avoid busy loops.
- Memory: avoid dynamic allocation in hot paths; prefer stack or static where reasonable.
- Build config: platformio.ini defines env: esp32-c6-devkitc-1, framework espidf, lib_deps htcw_rmt_led_strip@^0.2.2.
- Cursor/Copilot rules: none present (no .cursor/rules or .github/copilot-instructions.md). If added later, mirror here.

Repository conventions
- CMake is auto-generated by ESP-IDF; keep src/CMakeLists.txt minimal with idf_component_register.
- Do not commit secrets in sdkconfig or upload ports. Keep platformio.ini as the single source for env names.
- Before opening PRs, run build and all tests for env esp32-c6-devkitc-1 and ensure device-specific code is guarded where needed.
